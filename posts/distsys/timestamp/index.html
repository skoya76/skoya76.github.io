<!doctype html><html lang=jp><head><title>Lamport Timestamp</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=/application.5b7777e57c70f92a6339db87ad8b77d43266b3f01b9b591a1fac1f495003fb3c.css integrity="sha256-W3d35Xxw+SpjOduHrYt31DJms/Abm1kaH6wfSVAD+zw="><link rel=icon type=image/png href=/images/site/favicon_hub02d7508a1c89b2b7812eab204efeb9a_4223_42x0_resize_box_3.png><meta property="og:title" content="Lamport Timestamp"><meta property="og:description" content="本記事はdev.toから移植しました．
Introduction Lamport timestamp is a method proposed by Leslie Lamport for generating sequence numbers that are consistent with a causality law.
Lamport timestamp Each node (replica) is assigned a unique ID. (counter, NodeID) is the timestamp If the counters have the same value, the one with the larger node ID is considered the larger timestamp. (3,2) < (3,5) When a node generates a timestamp, it compares the largest value it is aware of with the client&rsquo;s value and sets the larger value as the timestamp counter value."><meta property="og:type" content="article"><meta property="og:url" content="https://skoya76.github.i/posts/distsys/timestamp/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-08-20T00:00:00+00:00"><meta property="article:modified_time" content="2022-08-20T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Lamport Timestamp"><meta name=twitter:description content="本記事はdev.toから移植しました．
Introduction Lamport timestamp is a method proposed by Leslie Lamport for generating sequence numbers that are consistent with a causality law.
Lamport timestamp Each node (replica) is assigned a unique ID. (counter, NodeID) is the timestamp If the counters have the same value, the one with the larger node ID is considered the larger timestamp. (3,2) < (3,5) When a node generates a timestamp, it compares the largest value it is aware of with the client&rsquo;s value and sets the larger value as the timestamp counter value."><meta name=description content="Lamport Timestamp"><script async src="https://www.googletagmanager.com/gtag/js?id=G-H4LBG7NDFZ"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-H4LBG7NDFZ",{anonymize_ip:!1})}</script></head><body class="type-posts kind-page" data-spy=scroll data-target=#TableOfContents data-offset=80><div class="container-fluid bg-dimmed wrapper"><nav class="navbar navbar-expand-xl top-navbar final-navbar shadow"><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<span class=navbar-toggler-icon></span></button>
<a class=navbar-brand href=/><img src=/images/site/main-logo_hu9ad2f25a877e6fef77c7a3dbef5094ad_6881_42x0_resize_box_3.png alt=Logo>
Koya's Blog</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse lang-selector" id=top-nav-items><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=menu-icon-center src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme"></a>
<a class="dropdown-item nav-link" href=# data-scheme=dark><img class=menu-icon-center src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a>
<a class="dropdown-item nav-link" href=# data-scheme=system><img class=menu-icon-center src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div><img src=/images/site/main-logo_hu9ad2f25a877e6fef77c7a3dbef5094ad_6881_42x0_resize_box_3.png class=d-none id=main-logo alt=Logo>
<img src=/images/site/inverted-logo_hub02d7508a1c89b2b7812eab204efeb9a_4223_42x0_resize_box_3.png class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=検索 data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts/ data-filter=all>記事</a></li><div class=subtree><li><a href=/posts/books/ title=Books>Books</a></li><li><i class="fas fa-minus-circle"></i><a class=active href=/posts/distsys/> Distributed Systems</a><ul class=active><li><a href=/posts/distsys/communicationmodels/ title="Communication Models">Communication Models</a></li><li><a href=/posts/distsys/failuremodels/ title="Failure Models">Failure Models</a></li><li><a class=active href=/posts/distsys/timestamp/ title="Lamport Timestamp">Lamport Timestamp</a></li><li><a href=/posts/distsys/smr/ title="State Machine Replication">State Machine Replication</a></li><li><a href=/posts/distsys/tob/ title="Total Order Broadcast">Total Order Broadcast</a></li><li><a href=/posts/distsys/consistencies/ title="Various Consistencies">Various Consistencies</a></li><li><a href=/posts/distsys/multipaxos/ title="What is the MultiPaxos?">What is the MultiPaxos?</a></li><li><a href=/posts/distsys/paxos/ title="What is the Paxos?">What is the Paxos?</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/posts/internship/> Internship</a><ul><li><a href=/posts/internship/kag/ title=KAG>KAG</a></li><li><a href=/posts/internship/rakuten/ title=Rakuten>Rakuten</a></li><li><a href=/posts/internship/toray/ title=Toray>Toray</a></li></ul></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(/images/default-hero.jpg)></div><div class=page-content><div class="author-profile ml-auto align-self-lg-center"><img class=rounded-circle src=/images/author/koya_hub4903c7e348867ff40ef2ef6922c64b1_58020_120x120_fit_q75_box.jpeg alt="Author Image"><h5 class=author-name>塩崎 功也（シオザキ コウヤ）</h5><p>Saturday, August 20, 2022</p></div><div class=title><h1>Lamport Timestamp</h1></div><div class=taxonomy-terms><ul style=padding-left:0></ul></div><div class=post-content id=post-content><p>本記事は<a href=https://dev.to/skoya76/lamport-timestamp-4fhb target=_blank rel=noopener>dev.to</a>から移植しました．</p><h2 id=introduction>Introduction</h2><p>Lamport timestamp is a method proposed by Leslie Lamport for generating sequence numbers that are consistent with a causality law.</p><h2 id=lamport-timestamp>Lamport timestamp</h2><ol><li>Each node (replica) is assigned a unique ID.</li><li>(counter, NodeID) is the timestamp</li><li>If the counters have the same value, the one with the
larger node ID is considered the larger timestamp. (3,2) &lt; (3,5)</li><li>When a node generates a timestamp, it compares the largest value it is aware of with the client&rsquo;s value and sets the larger value as the timestamp counter value.</li></ol><p>The figure below shows a concrete example of a Lamport timestamp.</p><p><img src=https://dev-to-uploads.s3.amazonaws.com/uploads/articles/12xjgxwrnrmay9pa52fm.png alt="Lamport timestamp"></p><p>The order of execution in the above diagram is as follows.</p><p>(1,1)&lt;(1,2)&lt;(2,1)&lt;<strong>(2,2)&lt;(3,1)</strong>&lt;(4,1)&lt;<strong>(5,1)&lt;(5,2)</strong></p><p>Comparing this sequence with the figure shows that real time and the time line do not match. For example, in real time, (3,1) &lt; (2,2) and (5,2) &lt; (5,1), but in reverse order in the Lamport timestamps.</p><h2 id=why-is-this-so>Why is this so?</h2><p>That is because the Lamport timestamp is always intended to define the entire sequence. In other words, Lamport timestamp cannot identify whether two operations were performed in parallel or causally dependent. Because of this, it is designed to be more compact than the version vector.</p></div><div class="row pl-3 pr-3"><div class="col-md-6 share-buttons"><strong>Share on:</strong>
<a class="btn btn-sm facebook-btn" href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fskoya76.github.i%2fposts%2fdistsys%2ftimestamp%2f" target=_blank><i class="fab fa-facebook"></i></a>
<a class="btn btn-sm twitter-btn" href="https://twitter.com/share?url=https%3a%2f%2fskoya76.github.i%2fposts%2fdistsys%2ftimestamp%2f&text=Lamport%20Timestamp&via=Koya%27s%20Blog" target=_blank><i class="fab fa-twitter"></i></a>
<a class="btn btn-sm reddit-btn" href="https://reddit.com/submit?url=https%3a%2f%2fskoya76.github.i%2fposts%2fdistsys%2ftimestamp%2f&title=Lamport%20Timestamp" target=_blank><i class="fab fa-reddit"></i></a>
<a class="btn btn-sm linkedin-btn" href="https://www.linkedin.com/shareArticle?url=https%3a%2f%2fskoya76.github.i%2fposts%2fdistsys%2ftimestamp%2f&title=Lamport%20Timestamp" target=_blank><i class="fab fa-linkedin"></i></a>
<a class="btn btn-sm whatsapp-btn" href="https://api.whatsapp.com/send?text=Lamport%20Timestamp https%3a%2f%2fskoya76.github.i%2fposts%2fdistsys%2ftimestamp%2f" target=_blank><i class="fab fa-whatsapp"></i></a>
<a class="btn btn-sm email-btn" href="mailto:?subject=Lamport%20Timestamp&body=https%3a%2f%2fskoya76.github.i%2fposts%2fdistsys%2ftimestamp%2f" target=_blank><i class="fas fa-envelope-open-text"></i></a></div><div class="col-md-6 btn-improve-page"><a href=https://github.com/skoya76/skoya76.github.io/edit/main/content/posts/distsys/timestamp/index.md title=編集リクエストを送る target=_blank rel=noopener><i class="fas fa-code-branch"></i>
編集リクエストを送る</a></div></div><hr><div class="row next-prev-navigator"><div class="col-md-6 previous-article"><a href=/posts/distsys/failuremodels/ title="Failure Models" class="btn btn-outline-info"><div><i class="fas fa-chevron-circle-left"></i> 前</div><div class=next-prev-text>Failure Models</div></a></div><div class="col-md-6 next-article"><a href=/posts/distsys/smr/ title="State Machine Replication" class="btn btn-outline-info"><div>次 <i class="fas fa-chevron-circle-right"></i></div><div class=next-prev-text>State Machine Replication</div></a></div></div><hr></div></div></div><a id=scroll-to-top class=btn><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center pl-3">目次</h5><hr><div class=toc><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#lamport-timestamp>Lamport timestamp</a></li><li><a href=#why-is-this-so>Why is this so?</a></li></ul></nav></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-left"><div class="col-md-4 col-sm-12"><h5>メニュー</h5><ul><li class=nav-item><a class=smooth-scroll href=https://skoya76.github.i#about>About</a></li><li class=nav-item><a class=smooth-scroll href=https://skoya76.github.i#skills>Skills</a></li><li class=nav-item><a class=smooth-scroll href=https://skoya76.github.i#experiences>Experiences</a></li><li class=nav-item><a class=smooth-scroll href=https://skoya76.github.i#education>Education</a></li><li class=nav-item><a class=smooth-scroll href=https://skoya76.github.i#projects>Projects</a></li><li class=nav-item><a class=smooth-scroll href=https://skoya76.github.i#publications>Research Activities</a></li><li class=nav-item><a class=smooth-scroll href=https://skoya76.github.i#recent-posts>Recent-Posts</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>連絡先</h5><ul><li><a href=mailto:koya@dsl.cs.tut.ac.jp target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>koya@dsl.cs.tut.ac.jp</span></a></li><li><a href=https://github.com/skoya76 target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>skoya76</span></a></li><li><span><i class="fas fa-phone-alt"></i></span> <span>+819092233048</span></li></ul></div><div class="col-md-4 col-sm-12"><p>メールで最新情報を受け取る</p><form action="https://github.us1.list-manage.com/subscribe/post?u=19de52a4603135aae97163fd8&amp;amp;id=094a24c76e" method=post id=mc-embedded-subscribe-form name=mc-embedded-subscribe-form class=validate target=_blank novalidate><div class=form-group><input type=email class=form-control id=mce-EMAIL name=EMAIL aria-describedby=emailHelp placeholder=ここにメールアドレスを入力>
<small id=emailHelp class="form-text text-muted">メールアドレスを入力すると、このウェブサイトのニュースレターを受け取ることに同意したことになります。</small></div><button type=submit class="btn btn-info">登録</button></form></div></div></div><hr><div class=container><div class="row text-left"><div class=col-md-4><a id=theme href=https://github.com/hugo-toha/toha target=_blank rel=noopener><img src=/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_3.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">© 2020 著作権.</div><div class="col-md-4 text-right"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>搭載
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=/application.64e24e192d5098ab92ea6c93b55507a4b1c0df101883339be49c828b7a929ff4.js integrity="sha256-ZOJOGS1QmKuS6myTtVUHpLHA3xAYgzOb5JyCi3qSn/Q=" defer></script></body></html>